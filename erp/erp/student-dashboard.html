<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student Dashboard | ZENED</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            background: #181A20;
            color: #fff;
            font-family: 'Inter', 'Roboto', Arial, sans-serif;
            font-weight: 400;
            letter-spacing: 0.01em;
        }
        
        .dashboard-root {
            display: flex;
            min-height: 100vh;
        }
        
        .sidebar {
            width: 250px;
            background: #23242B;
            display: flex;
            flex-direction: column;
            padding: 2rem 1.2rem 1.2rem 1.2rem;
            min-height: 100vh;
        }
        
        .sidebar .logo {
            font-size: 1.3rem;
            font-weight: 500;
            color: #fff;
            margin-bottom: 2.5rem;
            letter-spacing: 0.01em;
            display: flex;
            align-items: center;
        }
        
        .sidebar nav {
            flex: 1;
        }
        
        .sidebar nav a {
            display: flex;
            align-items: center;
            gap: 1rem;
            color: #bfc9da;
            text-decoration: none;
            font-size: 0.98rem;
            font-weight: 400;
            letter-spacing: 0.01em;
            padding: 0.8rem 1.2rem;
            border-radius: 0.8rem;
            margin-bottom: 0.3rem;
            transition: background 0.2s, color 0.2s;
        }
        
        .sidebar nav a.active,
        .sidebar nav a:hover {
            background: #2563eb;
            color: #fff;
        }
        
        .main-content {
            flex: 1;
            background: #181A20;
            padding: 2.5rem 2.5rem 2rem 2.5rem;
            display: flex;
            flex-direction: column;
            font-size: 1rem;
            font-weight: 400;
            letter-spacing: 0.01em;
        }
        
        .dashboard-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 2.2rem;
        }
        
        .dashboard-header .title {
            font-size: 1.3rem;
            font-weight: 500;
            letter-spacing: 0.01em;
            color: #fff;
        }
        
        .dashboard-header .user {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .dashboard-header .user img {
            width: 38px;
            height: 38px;
            border-radius: 50%;
            object-fit: cover;
        }
        
        .dashboard-header .user .name {
            font-size: 1rem;
            font-weight: 400;
            letter-spacing: 0.01em;
            color: #fff;
        }
        
        .dashboard-cards {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
            margin-bottom: 2.2rem;
        }
        
        .dashboard-card {
            background: #23242B;
            border-radius: 1.2rem;
            box-shadow: 0 2px 12px 0 rgba(37, 99, 235, 0.08);
            padding: 1.5rem 2.2rem;
            min-width: 210px;
            flex: 1 1 210px;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }
        
        .dashboard-card .label {
            font-size: 0.98rem;
            font-weight: 400;
            letter-spacing: 0.01em;
            color: #bfc9da;
        }
        
        .dashboard-card .desc {
            font-size: 0.95rem;
            font-weight: 400;
            letter-spacing: 0.01em;
            color: #bfc9da;
            margin-top: 0.5rem;
        }
        
        @media (max-width: 1100px) {
            .dashboard-cards {
                flex-direction: column;
                gap: 1.2rem;
            }
            .main-content {
                padding: 1.2rem 0.5rem;
            }
        }
    </style>
    <!-- Removed light/minimal theme overrides. The dashboard will now use the original dark theme as before. -->
</head>

<body>
    <div class="dashboard-root">
        <aside class="sidebar">
            <div class="logo">
                <span class="zened-logo-svg">
                    <svg width="38" height="38" viewBox="0 0 48 48" fill="none">
                        <circle cx="24" cy="24" r="22" fill="#2563eb" stroke="#fff" stroke-width="4"/>
                        <text x="50%" y="58%" text-anchor="middle" fill="#fff" font-family="'Poppins', 'Inter', Arial, sans-serif" font-size="22" font-weight="bold" dy=".3em">Z</text>
                    </svg>
                </span>
                <span class="brand-title">ZEN<span class="accent">ED</span></span>
            </div>
            <nav>
                <a href="student-dashboard.html" class="active"><i class="fa fa-th-large"></i> Dashboard</a>
                <a href="https://learnfromlisa.com" target="_blank" rel="noopener">
                    <img src="https://lisaapp.in/auth/_next/image?url=https%3A%2F%2Flucdn.letsupgrade.net%2Fassets%2Ficon_9021539b17.png&w=3840&q=75" alt="Lisa Logo" style="height:26px;vertical-align:middle;margin-right:0.4em;"> Learn from Lisa
                </a>
                <a href="college-timetable.html"><i class="fa fa-calendar-alt"></i> College Timetable</a>
                <a href="attendance-report.html"><i class="fa fa-user-check"></i> Attendance</a>
                <a href="academic-performance.html"><i class="fa fa-chart-pie"></i> Academic Performance</a>
                <a href="fees-payment.html"><i class="fa fa-rupee-sign"></i> Fees Payment</a>
                <a href="chat-with-faculty.html"><i class="fa fa-comments"></i> Chat with Faculty</a>
                <a href="index.html"><i class="fa fa-sign-out-alt"></i> Logout</a>
            </nav>
            <a href="contact-support.html" style="margin-top:auto; background:#2563eb; color:#fff; font-weight:600; border-radius:0.9rem; text-align:center; padding:0.45rem 0; font-size:1.01rem; display:block;"><i class="fa fa-headset"></i> Auto Contact Support</a>
        </aside>
        <main class="main-content">
            <div class="dashboard-header" style="background:#282A36; border-radius:1.2rem; padding:1.2rem 2rem; margin-bottom:2.2rem; display:flex; align-items:center; justify-content:space-between; box-shadow:0 2px 12px 0 rgba(37,99,235,0.08);">
                <div class="title" id="institutionNameHeader" style="font-size:1.5rem; font-weight:700; color:#fff; letter-spacing:0.03em;"></div>
                <div class="user" style="gap:0.7rem; display:flex; align-items:center;">
                    <i class="fa fa-bell" style="font-size:1.5rem; color:#facc15; cursor:pointer; background:#23242B; border-radius:50%; width:2.4rem; height:2.4rem; display:flex; align-items:center; justify-content:center;"></i>
                    <i class="fa fa-user-circle" style="font-size:2.2rem; color:#bfc9da;"></i>
                    <div class="name" style="font-size:1.08rem; color:#bfc9da; cursor:pointer; text-decoration:underline;" id="dashboard-rollno">Roll No: 21CS1001</div>
                </div>
            </div>
            <!-- AI Insights Card -->
            <div class="dashboard-card" style="background:#1e293b; border-left:6px solid #38bdf8; color:#fff; width:100%; box-shadow:0 2px 16px 0 rgba(56,189,248,0.10); align-items:flex-start; margin-bottom:2rem;">
                <div style="font-size:1.15rem; font-weight:700; color:#38bdf8; margin-bottom:0.7rem;"><i class="fa fa-brain"></i> AI Insights</div>
                <ul style="list-style:none; padding:0; margin:0;">
                    <li style="margin-bottom:0.7rem; font-size:1.08rem;"><i class="fa fa-arrow-up" style="color:#10b981;"></i> <b>You’ve improved in Math by 12% this term.</b></li>
                    <li style="margin-bottom:0.7rem; font-size:1.08rem;"><i class="fa fa-calendar-day" style="color:#facc15;"></i> <b>Your attendance is lowest on Mondays – consider revising your schedule.</b></li>
                    <li style="font-size:1.08rem;"><i class="fa fa-star" style="color:#f472b6;"></i> <b>At this rate, your predicted score in Final Exams: 78–82%</b></li>
                </ul>
            </div>
            <div class="dashboard-cards" style="width:100%; display:flex; flex-wrap:wrap; justify-content:center; margin-bottom:1.5rem;">
                <!-- Attendance Tracking card removed -->
            </div>
            <div class="dashboard-cards" style="display:flex; flex-wrap:nowrap; justify-content:center; align-items:stretch; gap:2.5rem; width:100%;">
                <div class="dashboard-card" id="card-timetable" style="flex:1 1 0; min-width:320px; max-width:600px; align-items:center; cursor:pointer;">
                    <div class="label"><i class="fa fa-calendar-alt"></i> College Timetable</div>
                    <div class="desc">Weekly class schedule</div>
                    <canvas id="collegeTimetableChart" height="180"></canvas>
                </div>
                <div class="dashboard-card" id="card-attendance" style="flex:1 1 0; min-width:320px; max-width:600px; align-items:center; cursor:pointer;">
                    <div class="label"><i class="fa fa-user-check"></i> Attendance</div>
                    <div class="desc">Monthly attendance overview</div>
                    <canvas id="attendanceChart" height="120"></canvas>
                </div>
            </div>
            <div class="dashboard-cards" style="width:100%; display:flex; flex-wrap:wrap; margin-top:1.5rem;">
                <div class="dashboard-card" id="card-performance" style="width:100%; max-width:none; display:flex; flex-direction:row; align-items:center; justify-content:flex-start; gap:2.5rem; cursor:pointer;">
                    <div style="width:320px; height:320px; display:flex; align-items:center; justify-content:center;">
                        <canvas id="performanceChart" width="320" height="320"></canvas>
                    </div>
                    <div style="flex:1; min-width:220px;">
                        <div class="label" style="font-size:1.3rem;"><i class="fa fa-chart-pie"></i> Academic Performance</div>
                        <div class="desc" style="margin-bottom:1.2rem;">Subject-wise performance (CS)</div>
                        <table style="width:100%; color:#bfc9da; font-size:1.08rem; border-collapse:collapse;">
                            <thead>
                                <tr style="color:#fff; font-weight:600;">
                                    <th style="text-align:left; padding:0.4rem 0.7rem 0.4rem 0;">Subject</th>
                                    <th style="text-align:left; padding:0.4rem 0.7rem;">Score</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="padding:0.3rem 0.7rem 0.3rem 0;">Data Structures</td>
                                    <td style="padding:0.3rem 0.7rem;">88%</td>
                                </tr>
                                <tr>
                                    <td style="padding:0.3rem 0.7rem 0.3rem 0;">Algorithms</td>
                                    <td style="padding:0.3rem 0.7rem;">92%</td>
                                </tr>
                                <tr>
                                    <td style="padding:0.3rem 0.7rem 0.3rem 0;">DBMS</td>
                                    <td style="padding:0.3rem 0.7rem;">85%</td>
                                </tr>
                                <tr>
                                    <td style="padding:0.3rem 0.7rem 0.3rem 0;">OS</td>
                                    <td style="padding:0.3rem 0.7rem;">90%</td>
                                </tr>
                                <tr>
                                    <td style="padding:0.3rem 0.7rem 0.3rem 0;">Networks</td>
                                    <td style="padding:0.3rem 0.7rem;">80%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="dashboard-cards" style="width:100%; display:flex; justify-content:center; margin-top:1.5rem;">
                <div class="dashboard-card" id="card-fees" style="width:100%; min-width:340px; align-items:flex-start; cursor:pointer;">
                    <div class="label" style="font-size:1.3rem;"><i class="fa fa-rupee-sign"></i> Fees Payment</div>
                    <div class="desc" style="margin-bottom:1.2rem;">Semester-wise fee status and due dates</div>
                    <table style="width:100%; color:#bfc9da; font-size:1.08rem; border-collapse:collapse;">
                        <thead>
                            <tr style="color:#fff; font-weight:600;">
                                <th style="text-align:left; padding:0.4rem 0.7rem 0.4rem 0;">Semester</th>
                                <th style="text-align:right; padding:0.4rem 0.7rem;">Total Fee</th>
                                <th style="text-align:right; padding:0.4rem 0.7rem;">Paid</th>
                                <th style="text-align:right; padding:0.4rem 0.7rem;">Remaining</th>
                                <th style="text-align:center; padding:0.4rem 0.7rem;">Due Date</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding:0.3rem 0.7rem 0.3rem 0;">Semester 1</td>
                                <td style="padding:0.3rem 0.7rem; text-align:right;">₹40,000</td>
                                <td style="padding:0.3rem 0.7rem; text-align:right;">₹40,000</td>
                                <td style="padding:0.3rem 0.7rem; text-align:right; color:#10b981;">₹0</td>
                                <td style="padding:0.3rem 0.7rem; text-align:center;">Paid</td>
                            </tr>
                            <tr>
                                <td style="padding:0.3rem 0.7rem 0.3rem 0;">Semester 2</td>
                                <td style="padding:0.3rem 0.7rem; text-align:right;">₹40,000</td>
                                <td style="padding:0.3rem 0.7rem; text-align:right;">₹35,000</td>
                                <td style="padding:0.3rem 0.7rem; text-align:right; color:#facc15;">₹5,000</td>
                                <td style="padding:0.3rem 0.7rem; text-align:center;">2024-08-10</td>
                            </tr>
                            <tr>
                                <td style="padding:0.3rem 0.7rem 0.3rem 0;">Semester 3</td>
                                <td style="padding:0.3rem 0.7rem; text-align:right;">₹42,000</td>
                                <td style="padding:0.3rem 0.7rem; text-align:right;">₹0</td>
                                <td style="padding:0.3rem 0.7rem; text-align:right; color:#ef4444;">₹42,000</td>
                                <td style="padding:0.3rem 0.7rem; text-align:center;">2025-01-15</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script>
            // Attendance Chart
            const ctx = document.getElementById('attendanceChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                    datasets: [{
                        label: '2024 Attendance %',
                        data: [92, 91, 93, 94, 90, 89, 91, 92, 93, 90, 88, 95],
                        borderColor: '#2563eb',
                        backgroundColor: 'rgba(37,99,235,0.08)',
                        tension: 0.3,
                        fill: true,
                        pointRadius: 3,
                        pointBackgroundColor: '#2563eb',
                    }]
                },
                options: {
                    plugins: {
                        legend: {
                            display: false
                        },
                        title: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: 80,
                            max: 100,
                            ticks: {
                                color: '#bfc9da',
                                callback: function(value) {
                                    return value + '%';
                                }
                            },
                            grid: {
                                color: '#23242B'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#bfc9da'
                            },
                            grid: {
                                color: '#23242B'
                            }
                        }
                    }
                }
            });
            // College Timetable Chart (matrix-style bar chart)
            const cttx = document.getElementById('collegeTimetableChart').getContext('2d');
            new Chart(cttx, {
                type: 'bar',
                data: {
                    labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
                    datasets: [{
                        label: 'Math',
                        data: [1, 1, 0, 1, 0, 0],
                        backgroundColor: '#2563eb'
                    }, {
                        label: 'Physics',
                        data: [0, 1, 1, 0, 1, 0],
                        backgroundColor: '#facc15'
                    }, {
                        label: 'CS',
                        data: [1, 0, 1, 1, 1, 1],
                        backgroundColor: '#10b981'
                    }, {
                        label: 'English',
                        data: [1, 0, 1, 0, 0, 0],
                        backgroundColor: '#ef4444'
                    }, {
                        label: 'Elective',
                        data: [0, 1, 0, 1, 1, 0],
                        backgroundColor: '#a78bfa'
                    }]
                },
                options: {
                    plugins: {
                        legend: {
                            display: true,
                            labels: {
                                color: '#bfc9da',
                                font: {
                                    size: 13
                                }
                            }
                        },
                        title: {
                            display: false
                        }
                    },
                    responsive: true,
                    scales: {
                        x: {
                            stacked: true,
                            ticks: {
                                color: '#bfc9da'
                            },
                            grid: {
                                color: '#23242B'
                            }
                        },
                        y: {
                            stacked: true,
                            beginAtZero: true,
                            max: 4,
                            ticks: {
                                color: '#bfc9da',
                                stepSize: 1
                            },
                            grid: {
                                color: '#23242B'
                            }
                        }
                    }
                }
            });
            // Academic Performance Pie Chart
            const perfScores = [88, 92, 85, 90, 80];
            const perfLabels = ['Data Structures', 'Algorithms', 'DBMS', 'OS', 'Networks'];
            const perfAvg = Math.round(perfScores.reduce((a, b) => a + b, 0) / perfScores.length);
            const ptx = document.getElementById('performanceChart').getContext('2d');
            new Chart(ptx, {
                type: 'pie',
                data: {
                    labels: perfLabels,
                    datasets: [{
                        data: perfScores,
                        backgroundColor: [
                            '#2563eb',
                            '#facc15',
                            '#10b981',
                            '#ef4444',
                            '#a78bfa'
                        ],
                        borderColor: '#181A20',
                        borderWidth: 2
                    }]
                },
                options: {
                    plugins: {
                        legend: {
                            display: true,
                            labels: {
                                color: '#bfc9da',
                                font: {
                                    size: 15
                                }
                            }
                        },
                        title: {
                            display: false
                        },
                        tooltip: {
                            enabled: true
                        },
                        beforeDraw: chart => {
                            const {
                                width,
                                height,
                                ctx
                            } = chart;
                            ctx.save();
                            ctx.font = 'bold 2.7rem Inter, Arial';
                            ctx.fillStyle = '#fff';
                            ctx.textAlign = 'center';
                            ctx.textBaseline = 'middle';
                            ctx.fillText(perfAvg + '%', width / 2, height / 2);
                            ctx.restore();
                        }
                    }
                },
                plugins: [{
                    id: 'centerText',
                    afterDraw: chart => {
                        const {
                            width,
                            height,
                            ctx
                        } = chart;
                        ctx.save();
                        ctx.font = 'bold 2.7rem Inter, Arial';
                        ctx.fillStyle = '#fff';
                        ctx.textAlign = 'center';
                        ctx.textBaseline = 'middle';
                        ctx.fillText(perfAvg + '%', width / 2, height / 2);
                        ctx.restore();
                    }
                }]
            });
            // Navigation for dashboard cards
            document.getElementById('card-timetable').addEventListener('click', function() {
                window.location.href = 'college-timetable.html';
            });
            document.getElementById('card-attendance').addEventListener('click', function() {
                window.location.href = 'attendance-report.html';
            });
            document.getElementById('card-performance').addEventListener('click', function() {
                window.location.href = 'academic-performance.html';
            });
            document.getElementById('card-fees').addEventListener('click', function() {
                window.location.href = 'fees-payment.html';
            });
            // Make roll number clickable to go to profile
            document.getElementById('dashboard-rollno').addEventListener('click', function() {
                window.location.href = 'student-profile.html';
            });
            // Show institution name from localStorage
            (function() {
                var instName = localStorage.getItem('institutionName') || 'Your Institution';
                var el = document.getElementById('institutionNameHeader');
                if (el) el.textContent = instName;

                window.addEventListener('storage', function(e) {
                    if (e.key === 'institutionName') {
                        var newName = e.newValue || 'Your Institution';
                        if (el) el.textContent = newName;
                    }
                });
            })();
        </script>
    </div>
</body>

</html>